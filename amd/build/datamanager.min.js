define("tiny_ai/datamanager",["exports","tiny_ai/utils"],(function(_exports,_utils){function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
/**
   * Tiny AI data manager.
   *
   * @module      tiny_ai/datamanager
   * @copyright   2024, ISB Bayern
   * @author      Philipp Memmel
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;const DataManager=new class{constructor(){_defineProperty(this,"currentTool",null),_defineProperty(this,"currentAiResult",null),_defineProperty(this,"prompt",null),_defineProperty(this,"options",null),this.eventEmitterElement=document.createElement("div")}getDefaultOptions(){const defaultOptions={component:"tiny_ai",itemid:(0,_utils.getDraftItemId)(),contextid:(0,_utils.getContextId)()};return["tts","audiogen"].includes(this.getCurrentTool())?defaultOptions.filename="audio_"+Math.random().toString(16).slice(2)+".mp3":"imggen"===this.getCurrentTool()&&(defaultOptions.filename="img_"+Math.random().toString(16).slice(2)+".png"),defaultOptions}setCurrentTool(currentTool){this.currentTool=currentTool}getCurrentTool(){return this.currentTool}setCurrentPrompt(prompt){this.prompt=prompt;const promptUpdatedEvent=new CustomEvent("promptUpdated",{detail:{newPrompt:prompt}});this.eventEmitterElement.dispatchEvent(promptUpdatedEvent)}getCurrentPrompt(){return this.prompt}getSelection(){return this.selection}getSelectionText(){const span=document.createElement("span");return span.innerHTML=this.selection,span.textContent}setSelection(selection){this.selection=selection}getEventEmitterElement(){return this.eventEmitterElement}setCurrentAiResult(aiResult){this.currentAiResult=aiResult}getCurrentAiResult(){return this.currentAiResult}setCurrentOptions(options){this.options=options}getCurrentOptions(){const optionsToReturn=null===this.options?{}:this.options;return Object.assign(optionsToReturn,this.getDefaultOptions()),optionsToReturn}reset(){this.setCurrentPrompt(""),this.setCurrentOptions(null),this.setCurrentTool(null),this.setCurrentAiResult(null)}};var _default=DataManager;return _exports.default=_default,_exports.default}));

//# sourceMappingURL=datamanager.min.js.map