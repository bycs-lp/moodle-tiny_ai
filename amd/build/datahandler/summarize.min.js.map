{"version":3,"file":"summarize.min.js","sources":["../../src/datahandler/summarize.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\nimport {makeRequest} from 'local_ai_manager/make_request';\nimport DataManager from 'tiny_ai/datamanager';\nimport {exception as displayException} from 'core/notification';\nimport {getString} from 'core/str';\n\n/**\n * Tiny AI data manager.\n *\n * @module      tiny_ai/datahandler/summarize\n * @copyright   2024, ISB Bayern\n * @author      Philipp Memmel\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nconst SummarizeHandler = new _SummarizeHandler();\n\nclass _SummarizeHandler {\n\n    currentTool = null;\n\n    languageTypeOptions = {\n        nospeciallanguage: 'KEINE VERAENDERUNG DER SPRACHE',\n        simplelanguage: 'EINFACHE SPRACHE',\n        technicallanguage: 'FACHSPRACHE',\n    }\n\n    maxWordCountOptions = {\n        0: 'KEIN MAXIMUM',\n        10: '10',\n        20: '20',\n        50: '50',\n        100: '100',\n        200: '200',\n        300: '300'\n    };\n    languageType = null;\n    maxWordCount = 0;\n\n    setMaxWordCount = (maxWordCount) => {\n        this.maxWordCount = maxWordCount;\n    }\n\n    setLanguageType = (languageType) => {\n        this.languageType = languageType;\n    }\n\n    getPrompt() {\n        let prompt = '';\n        if (this.currentTool === 'summarize') {\n            prompt += 'Vereinfache den nachfolgenden Text.';\n        } else if (this.currentTool === 'describe') {\n            prompt += 'Beschreibe den nachfolgenden Text.';\n        }\n        if (parseInt(this.maxWordCount) !== 0) {\n            prompt += ' Der Text muss höchstens ' + this.maxWordCount + ' Wörter besitzen.';\n        }\n        if (this.languageType !== 'nospeciallanguage') {\n            prompt += ' Der Text muss in ' + this.languageTypeOptions[this.languageType] + ' verfasst sein.';\n        }\n        return prompt + '\\nDer zu bearbeitende Text lautet: ' + DataManager.getSelectionText();\n    }\n\n    setTool(currentTool) {\n        this.currentTool = currentTool;\n    }\n}\n\nexport default SummarizeHandler;\n\n\n\n"],"names":["SummarizeHandler","nospeciallanguage","simplelanguage","technicallanguage","maxWordCount","languageType","getPrompt","prompt","this","currentTool","parseInt","languageTypeOptions","DataManager","getSelectionText","setTool"],"mappings":";;;;;;;;6JA6BMA,iBAAmB,2DAIP,iDAEQ,CAClBC,kBAAmB,iCACnBC,eAAgB,mBAChBC,kBAAmB,2DAGD,GACf,kBACC,QACA,QACA,SACC,UACA,UACA,4CAEM,0CACA,2CAEIC,oBACVA,aAAeA,wDAGLC,oBACVA,aAAeA,gBAGxBC,gBACQC,OAAS,SACY,cAArBC,KAAKC,YACLF,QAAU,sCACkB,aAArBC,KAAKC,cACZF,QAAU,sCAEsB,IAAhCG,SAASF,KAAKJ,gBACdG,QAAU,4BAA8BC,KAAKJ,aAAe,qBAEtC,sBAAtBI,KAAKH,eACLE,QAAU,qBAAuBC,KAAKG,oBAAoBH,KAAKH,cAAgB,mBAE5EE,OAAS,sCAAwCK,qBAAYC,mBAGxEC,QAAQL,kBACCA,YAAcA,2BAIZT"}